import 'System'
import 'UnityEngine'
import 'Assembly-CSharp'

Fish = nil
foundFish = false;

function enter(npc)

end

function update(npc)
	if not foundFish then
		npc:goToClosestFish();
	end
end

function onFindFish(npc, fish)
	foundFish = true;
	Fish = fish;
	npc:playAnimation("dance&eat");
	npc:stopWalking();
end

function onAnimEnd(npc)
	if foundFish then
		Fish:eat(npc);
		npc:incrementFishCount();
	end
	
	if npc:getFishCount() <= 1 then
		npc:changeState("PingouinWalk");
	end
	if npc:getFishCount() > 1 then
		npc:changeState("PingouinDive");
	end
	npc:randomizeDirection();
end

function onBorderBanquise(npc)
	npc:turnAround();
end